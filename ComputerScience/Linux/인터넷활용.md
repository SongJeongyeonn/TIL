# 인터넷 활용
- **WAN(Wide Area Network, 원거리 통신망)**
  - 국가, 대륙 등과 같이 넓은 지역을 연결하는 네트워크이다.
  - 거리의 제한은 없으나 다양한 경로를 경유해 도달하므로 속도가 느리고 전송 에러율도 높다.
  - 장거리 망 사이의 연결을 위한 WAN구성 방식으로는 전용선, 회선교환망, 패킷교환망이 있다.
- **SAN(Storage Area )**
  - 스토리지를 위해 고안된 스토리지 전용 고속 네트워크이다.
  - 파이버 채널을 이용하여 구성되는 저장장치 네트워크이다.
  - 호스트 컴퓨터의 종류에 구애받지 않고 별도의 연결된 저장장치 사이에 대용량의 데이터를 전송시킬 수 있는 고속 네트워크이다.
  - 서버가 클라이언트로부터 받은 파일 I/O 요청을 직접 블록 I/O로 전환하여 SAN에 연결된 스토리지로 전송한다.

# 네트워크 개요
- **LAN 토플로지(Topology)**
  - 토플로지는 호스트 및 장비들의 물리적인 배치 형태이다.
  - 토플로지는 성형(star), 망형(full mesh), 버스형(bus), 링형(ring), 트리형(tree) 등이 있다.

- **매체 접근 제어 방식**
  - CSMA/CD: 단말기가 전송로의 신호 유무를 조사하고 다른 단말기가 신호를 송출하는지 확인한다.
  - 토큰 패싱: Token의 흐름에 의해 전송 순서가 결정된다. Token passing은 free token과 busy token을 이용하여 매체 접근을 제어한다.

## (2) 네트워크 장비
### LAN 구성 장비
- **케이블**
  - 보호 외피나 외장 안에 두 개 이상의 전선이나 광섬유로 묶여 있는 것이다.
  - TP 케이블, 동축 케이블, 광섬유 케이블 등을 사용할 수 있다.
- **리피터**
  - 신호의 재생 및 증폭기능을 수행하여 물리적인 거리를 확장시킨다.
- **허브**
  - 신호를 노드에 전달해주는 장비이다.
  - 네트워크 확장, 다른 허브와의 상호 연결, 신호의 증폭 등의 기능을 제공한다.
- **LAN 카드**
  - 네트워크에 접속할 수 있도록 컴퓨터 내에 설치되는 확장 카드이다.
  - 전기신호로부터 데이터를 송신하고 변환하며, 데이터를 전기신호로 변환하여 송신한다.
  - MAC 주소를 이용하여 데이터의 수신 여부를 판별한다.
- **브릿지**
  - 모든 수신 프레임을 일단 버퍼에 저장하고, 주소에 따라 목적지 포트로 프레임을 전달하는 장비이다.
  - 큰 네트워크를 단일 네트워크상의 트래픽 감소 등과 같은 작고 관리하기 쉬운 Segment로 나눌 필요가 있을 때 사용한다.
  - 전기적으로 신호의 재생 및 패킷의 송수신 어드레스를 분석하여 패킷의 통과 여부를 판정하는 필터링을 작용한다.
- **스위치**
  - 브릿지와 비슷한 기능을 갖는 장비이다.
  - 소프트웨어 기반인 처리 방식으로 브릿지보다 빠르게 데이터를 전송한다.
  - 맥 주소 테이블을 기반으로 프레임 전송한다.
  - 스위칭 허브는 전용매체교환 기술을 이용하여 트래픽 병목 현상을 제거하고, 포트별로 속도가 전용으로 보장된다.
### 인터네트워킹 장비
- **라우터**
  - OSI 모델의 물리계층, 데이터링크 계층, 네트워크 계층의 기능을 지원하는 장치이다.
  - 서로 다른 통신망과 프로토콜을 사용하는 네트워크 간의 통신을 가능하게 한다.
  - LAN을 연결시켜주는 망 연동 장치로서 통신망에서 정보를 전송하기 위해 결로를 설정하는 역할을 제공하는 핵심적인 통신장비이다.
  - 전용회선으로 LAN에 연결된 컴퓨터들이 동시에 인터넷을 사용할 수 있게 해준다.
  - 목적지로 향하는 최적의 경로 설정 데이터를 목적지까지 전달하는 기능을 수행한다.
- **게이트웨이**
  - 서로 다른 형태의 네트워크를 상호 접속하는 장치이다.
  - 서로 다른 통신망이나 프로토콜을 사용하는 네트워크 간의 통신을 가능하게 하는 장비를 통칭한다.
  - 데이터 포맷 등 두개의 시스템 사이에서 중계자 역할을 수행한다.
### UTP 케이블링
- 다이렉트 케이블
- 크로스오버 케이블
 
 ## (3) 프로토콜 개요와 기능
 - OSI7 모델과 TCP/IP 모델

|OSI7 모델|기능|TCP/IP 모델|
|:--:|:--:|:--:|
|응용 계층|사용자에게 다양한 네트워크 서비스를 제공하기 위해 User Interface를 제공, UI로 데이터를 생성|응용 계층|
|표현 계층|부호화(encoding), 압축(Compression), 암호화(Encryption)|응용 계층|
|세션 계층|종단 간 애플리케이션들의 연결 설정, 유지, 해제|응용 계층|
|전송 계층|종단 간 연결(End-to-Connection), 응용 계층 사이에 논리적인 통로 제공(Virtual Circuit)|전송 계층|
|네트워크 계층|논리적인 주소를 사용/ 경로 관리, 최적 경로 결정|인터넷 계층|
|데이터링크 계층|데이터 전송을 위한 형식 결정/ 데이터 전송을 위하여 Media에 접근하는 방법 제공/ 오류 검출 기능 제공|네트워크 연결 계층|
|물리 계층|물리적인 연결, 전기적.기계적.기능적 절차적인 수단 제공|네트워크 연결 계층|
### 계층별 프로토콜
- 프로토콜(protocol)은 특정 통신 기능을 수행하기 위한 규약이다. 이것은 두 노드 사이의 정보 교환 시 발생하는 통신상의 에러를 피하기 위하여 합리적인 통제를 한다.
- 프로토콜 구성요소는 형식(syntax), 의미(semantic), 순서(timing)이다.
|방식|데이터 포캣, 부호화 및 신호 레벨 등|
|의미|특정 패턴을 어떻게 해석하고, 어떤 동작을 할 것인가 결정|
|순서|속도 일치 및 순서 제어 등|
- 인터넷/네트워크 계층 프로토콜: IP, ICMP, IGMP, ARP, RARP
- 전송 계층 프로토콜: TCP, UDP
- 응용 계층 프로토콜: SMTP, POP, Telnet, SSH, FTP, HTTP, SNMP, TFTP, DHCP

## (4) IP주소와 도메인
- **IPv4 주소 체계**
  - IPv4 주소는 4개의 옥텟(octet)으로 구성된다.
  - 각 옥텟은 8비트이므로 IPv4는 총 32비트이다.
  - 클래스 E는 240~255 사이의 대역에 있으며 IP 주소 부족을 위해 예약해 놓은 것이다.
  - IP 주소는 네트워크 ID와 호스트 ID로 구성되어 있다.
  - 서브넷 마스크는 네크워크 부분과 호스트 부분을 구분해주는 값이다. 이것은 효율적인 네트워크 분리를 가능하게 한다.
- **서브넷팅**
  - 서브넷은 특정 네트워크를 여러 개의 네트워크, 브로드캐스트 도메인을 나누는 것이다.
  - IP 주소의 부족 현상을 해소하기 위한 방안이다.
  - 서브넷팅은 디폴트 서브넷 마스크를 기준으로 해서 네트워크 ID 비트 수를 늘리고 호스트 ID 비트 수를 줄이는 것이다. 이때 기준에서 늘어난 네트워크 ID 비트는 서브넷 ID라 부른다.
- IPv6 주소체계

|구분|IPv4|IPv6|
|:--:|:--:|:--:|
|IP 주소 비트 수|32비트|128비트|
|IP 주소 방식|지정 주소 방식(일반주소, 브로드캐스트주소)|자동 설정 주소 방식(유니캐스트주소, 멀티캐스트주소, 애니캐스트주소)|
|IP 헤더 길이|20바이트[기본헤더]~60바이트[옵션필드 사용 시]|40바이트[기본헤더]와 확장필드 이용|
|기능|IP 헤더를 이용한 기본 기능|확장 필드를 이용한 다양한 기능(암호 및 인증 기능, QoS 관련 기능, 보안 기능)|

# 인터넷 서비스의 종류
## (1) WWW서비스
- 프로토콜 HTTP를 기반으로 한 멀티미디어와 하이퍼넥스트를 통합한 정보 검색 시스템이다.
- 인터넷에 연결된 전 세계 컴퓨터의 모든 문서들을 언제 어디서든 다양한 컴퓨터 환경에서 검색이 가능하게 해준다.
- 다양한 그래픽 유저 인터페이스들을 사용하는 것이 가능하다.
- 1989년 CERN에서 하이퍼텍스트가 시작되었으며, 1990년 WWW라는 넥스트 플랫폼용 브라우저가 공개되었다.
- WWW 서비스는 분산 클라이언트-서버 모델을 기반으로 한다.
- 표준 웹 프로토콜(HTTP, XML, SOAP, WSDL, UDDI)을 기본으로 하여 서로 다른 개발 환경과 운영체제에서도 상호 통신이 가능하다.
- 다양한 웹 브라우저들이 있다.

## (2) 메일 서비스
- 전자 메일 시스템은 컴퓨터 사용자끼리 편지를 주고받는 서비스이며 MTA, MUA, MDA로 구성된다.
- 메일 클라이언트에서 송신은 SMTP, 수신은 POP3 또는 IMAP4를 이용한다.
- 메일을 보내거나 메일 서버 간의 메세지 교환은 SMTP 프로토콜을 사용하고, 메일 서버에 도착한 메일을 사용자 컴퓨터에서 확인할 때에는 POP3와 IMAP를 사용한다.
- MIME은 멀티미디어 전자우편을 위한 표준으로, 멀티미디어 데이터를 ASCII 형식으로 변환할 필요 없이 인터넷 전자 우편으로 송신하기 위한 SMTP의 확장 규격이다.

## (3) FTP 서비스
- FTP TCP/IP에 의해 제공되는 호스트 간의 파일 복사를 위한 프로토콜이다.
- FTP의 통신 모드는 패시브 모드와 엑티브 모드로 구분한다.
- FTP는 20번과 21번 포트 번호를 사용한다.
- FTP는 사용자계정을 가진 사용자들의 접속과 익명의 로그인을 허용하고 있다.
- 익명은 공개 소프트웨어를 제공하는 fTP 서버에 접속할 때 입력할 수 있는 계정이다.

## (4) DNS 서비스
- 호스트 이름을 기반으로 IP주소로 변환하거나 IP 주소를 기반으로 호스트 이름을 변환시켜 주는 프로토콜이다.
- DNS에서는 도메인명을 분산된 트리 형태의 계층적 구조로 관리한다.
- 일반 최상위 도메인(generic top-level domain, gTLD)은 특정한 조직 계열에 따라 사용된다. 도메인의 길이는 3글자 이상이며 조직의 종류에 따라 사용하는 이름이 다르다.

## (5) Telnet와 SSH 서비스
- 네트워크상에 있는 다른 컴퓨터에 로그인하거나 원격 시스템에서 명령 실행, 파일 복사 등을 제공하는 서비스이다.
- Telnet과 ssh는 사용자가 서버에 접속하여 서버 관리, 파일 편집 등을 Text 모드 환경에서 시스템 명령을 실행하고 결과를 화면을 통해 볼 수 있다.
- Telent은 서버와 주고받는 정보를 Byte 스트림 형식으로 전송하고, ssh는 DES, RSA 등의 암호화 기법을 사용해서 전송한다. 따라서 Telnet보다 SSh가 안전한 데이터 전송을 보장한다.
- ssh는 암호화뿐만 아니라 압축 기술도 제공한다. 암호화를 통해서 늘어난 데이터의 크기를 압축하여 사용자와 서버가 송수신하는 것을 가능하게 한다.

## (6) NFS
- 네트워크 기반에 다른 시스템과 파일 시스템을 공유하기 위한 클라이언트/서버 프로그램이다.
- 1984년 썬 마이크로시스템즈 사에서 개발하였다.
- 원격지에 있는 리눅스 서버의 특정 디렉터리를 로컬 시스템의 하위 디렉터리처럼 사용할 수 있다.
- 다른 컴퓨터의 파일 시스템을 마운트하고 공유하여 자신의 디렉터리인 것처럼 사용할 수 있게 해준다.
- NFS는 portmap이 먼저 수행되어 있어야만 NFS 서비스가 실행된다. Portmap은 NIS, NFS 등 RPC 연결에 관여하는 데몬이다.
- NFS 서비스는 nfsd, rpc.mounted, rpc.statd, rpc.rockd, rpc.rquotad 데몬들이 구동된다.

## (7) RPC
- 동적으로 서비스와 포트를 연결할 때 사용하는 방법이다.
- 기본적으로 포트와 서비스가 정적으로 구성될때는 /etc/services 파일을 참조하지만 동적으로 포트를 할당받아 사용할 때는 RPC인 rpcbind(SUN에서는 sunrpc)를 사용한다.

# 인터넷 서비스의 설정
## (1) 네트워크 인터페이스 설정
- 리눅스는 다양한 네트워크 인터페이스를 지원한다.
- 일반적으로 네트워크 인터페이스는 자동으로 인식되지만 자동으로 인식되지 않을 경우 수동으로 설정해야 한다.
- 네트워크 인터페이스 수동 설정 방법은 컴파일된 인터페이스 모듈을 커널에 적재하는 것이다. 해당 모듈을 커널에 적재하는 방법은 수동 적재 방법이 있다.

## (2) 네트워크 설정 파일들
- /etc/sysconfig/network: 네트워크의 기본 정보가 설정되어 있는 파일이다.
- /etc/sysconfig/network-scripts/ifcfg-ethX: 지정된 네트워크 인터페이스의 네트워크 환경 설정 정보가 저장된다.
- /etc/resolv.conf: 기본적으로 사용할 도메인명과 네임서버를 설정한다.
- /etc/hosts: IP 주소와 도메인 주소를 1:1로 등록하여 도메인에 대한 IP 주소를 조회하도록 한다.
- /etc/host.conf: DNS 서비스를 제공할 때 먼저 이 파일을 검사하여 파일의 설정에 따라 서비스한다.

## 네트워크 설정
- **IP 주소 설정**
  - 네트워크 설정 파일로 주소 설정: 파일 /etc/sysconfig/network 또는 /etc/sysconfig/network-scripts/ifcfg-ethX로 IP 주소를 할당한다.
  - 명령어를 이용한 주소 설정: 명령어 ifconfig를 이용하여 IP 주소를 할당한다.
  - 유틸리티를 이용한 주소 설정: netconfig, system-config-network, redhat-config-network 등의 다양한 유틸리티를 이용하여 주소를 할당한다.
- **라우팅 테이블 설정 및 관리**
  - 라우팅이란 송신 패킷이 목적지까지 전송할 수 있도록 경로를 설정하는 직업이다.
  - 송신 패킷은 라우팅 테이블에 목적지 경로 정보가 있다면 해당 경로로 패킷을 전송한다.
  - 명령어 route은 라우팅 테이블을 설정하거나 확인한다.
  - 목적지 경로가 라우팅 테이블에 없다면 디폴트게이트웨이로 트래픽을 전송할 수 있게 라우팅 테이블을 설정할 수 있다.

## (3) 네트워크 관련 명령어
|TCP/IP 주소 설정 정보 확인|네트워크 경로 상태 확인|네트워크 연결 상태 확인|라우팅 테이블 확인|NIC 상태 확인|
|:--:|:--:|:--:|:--:|:--:|
|ifconfig, nslookup|ping, traceroute|netstat|route|ethtool, mii-tool, arp|